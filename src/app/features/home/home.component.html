<div class="home-container">
  <!-- Main Content -->
  <main class="main-content">
    <!-- Popular Videos Section -->
    <div class="popular-section" *ngIf="popularVideos && popularVideos.length > 0">
      <h2 class="section-title popular-title">‚≠ê Najpopularniji videi ove nedelje</h2>
      <div class="popular-videos-grid">
        <a [routerLink]="['/watch', video.draftId]" class="video-card popular-card" *ngFor="let video of popularVideos; let i = index">
          <div class="video-thumbnail">
            <div class="rank-badge">{{ i + 1 }}</div>
            <img
              [src]="getThumbnailUrl(video.draftId)"
              class="thumbnail-image"
              [alt]="video.thumbnailPath"
            />
          </div>
          <div class="video-info">
            <h3 class="video-title">{{ video.title }}</h3>
            <p class="video-meta">
              {{ video.viewCount }} pregleda ‚Ä¢ {{ getDaysAgo(video.createdAt) }}
              <br>
              <a [routerLink]="['/profile', video.authorUsername]">{{ video.authorUsername }}</a>
            </p>
          </div>
        </a>
      </div>
    </div>

    <div class="home-header">
      <h2 class="section-title">Video snimci</h2>

      <div class="period-filter" role="group" aria-label="Filter po vremenskom periodu">
        <input type="radio" name="period" id="period-all" value="allTime" checked (change)="setFilter(FilterType.ALL_TIME)">
        <label for="period-all">Sve vreme</label>

        <input type="radio" name="period" id="period-30" value="last30days" (change)="setFilter(FilterType.LAST_30_DAYS)">
        <label for="period-30">Poslednjih 30 dana</label>

        <input type="radio" name="period" id="period-year" value="currentYear" (change)="setFilter(FilterType.CURRENT_YEAR)">
        <label for="period-year">Tekuƒáa godina</label>
      </div>
    </div>
    
    
    <div class="videos-grid">
       <a [routerLink]="['/watch', video.draftId]" class="video-card" *ngFor="let video of videos">
        <div class="video-thumbnail">
          <img
                [src]="getThumbnailUrl(video.draftId)"
                class="thumbnail-image"
                [alt]="video.thumbnailPath"
            />
          
          <!-- Badge for scheduled videos -->
          <div class="scheduled-badge-overlay" *ngIf="isScheduled(video)">
            <span class="badge-icon">üïí</span>
            <span class="badge-text">Zakazano</span>
          </div>
          
          <!-- Badge for live videos -->
          <div class="live-badge-overlay" *ngIf="isLiveNow(video) && !isScheduled(video)">
            <span class="live-dot"></span>
            <span class="badge-text">U≈ΩIVO</span>
          </div>
        </div>
        <div class="video-info">
          <h3 class="video-title">{{ video.title }}</h3>
        <p class="video-meta">
          <span *ngIf="isScheduled(video)" class="scheduled-info">
            üìÖ {{ getScheduledDateTime(video) }}
          </span>
          <span *ngIf="!isScheduled(video)">
            {{ video.viewCount }} pregleda ‚Ä¢ {{ getDaysAgo(video.createdAt) }}
          </span>
          <br>
          <a [routerLink]="['/profile', video.authorUsername]">{{ video.authorUsername }}</a>
        </p>
        </div>
       </a>
    </div>

    <!-- Load More Button -->
    <div class="load-more-container" *ngIf="hasMore && !loading">
      <button class="load-more-btn" (click)="loadVideos()">
        Prika≈æi jo≈° videa
      </button>
    </div>

    <!-- Loading indicator -->
    <div class="loading-container" *ngIf="loading">
      <div class="loading-spinner"></div>
      <p>Uƒçitavanje video snimaka...</p>
    </div>

    <!-- End message -->
    <div class="end-message" *ngIf="!hasMore && videos.length > 0">
      <p>Prikazani su svi video snimci</p>
    </div>
  </main>
</div>